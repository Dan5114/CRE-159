import{G as k,j as e}from"./app-CfsFC_sX.js";import{N as F}from"./notyf.es-ZvlfbKa9.js";/* empty css                  */import{d as o,r as V,l as C}from"./localizedFormat-VpGZUg9_.js";import z from"./FeedbackStep10-DxDFJm3U.js";import p from"./TerminalReportTinyMCE-C4B1Bwdt.js";import"./jodit-react-CtE3-kLk.js";import"./xlsx-5rFX-EW9.js";o.extend(V);o.extend(C);function O({user:r,research:a,tpl_docs:i,feedbacks_step10:b,feedbacks_step10_notif:n,contents_mce_terminal:l}){const c=new F,{setData:m,post:u,delete:g,patch:j,reset:x}=k({research_id:a.id,document_file:"",steps:"10"}),f=t=>{t.preventDefault(),u(route("researcher.technical.review.files"),{onSuccess:s=>{c.success(s.props.flash.message)},onFinish:()=>{console.log("Finishing uploading files"),x()}})},y=t=>{fetch(route("researcher.doc.download",t.id)).then(s=>s.blob()).then(s=>{const h=window.URL.createObjectURL(new Blob([s])),d=document.createElement("a");d.href=h,d.download=t.file_name||"downloaded-file",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(h)}).catch(s=>{console.error("Error fetching the file:",s)})},v=t=>{g(route("researcher.delete.doc",t),{preserveScroll:!0,onSuccess:s=>c.success(s.props.flash.message),onError:()=>console.log("Error deleting"),onFinish:()=>x()})},w=t=>{j(route("researcher.mark.read",t),{onSuccess:s=>{console.log("Finishing read status")},onFinish:()=>{console.log("Finishing update status")}})};return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{class:"tabs tabs-lifted mt-3 p-2","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal",children:[e.jsx("button",{type:"button",class:"tab active-tab:tab-active active",id:"tabs-lifted-item-techpanel10","data-tab":"#tabs-lifted-techpanel10","aria-controls":"tabs-lifted-1",role:"tab","aria-selected":"true",children:"Files"}),e.jsxs("button",{type:"button",onClick:()=>{r.user_type==="cre"?w(a.id):console.log("You do not have permission to perform this action.")},class:"tab active-tab:tab-active",id:"tabs-lifted-item-techpanelfeedback10","data-tab":"#tabs-lifted-techpanelfeedback10","aria-controls":"tabs-lifted-2",role:"tab","aria-selected":"false",children:["Feedback",n==0?"":e.jsxs("span",{class:"badge bg-[#FF0000] text-white badge-sm ms-2 rounded-full",children:["+",n]})]}),r.user_type=="researcher"?e.jsx(e.Fragment,{}):e.jsx("button",{type:"button",class:"tab active-tab:tab-active",id:"tabs-lifted-item-techpanelreport","data-tab":"#tabs-lifted-techpanelreport","aria-controls":"tabs-lifted-1",role:"tab","aria-selected":"true",children:"Terminal Report Evaluation"})]}),e.jsx("div",{id:"tabs-lifted-techpanel10",role:"tabpanel","aria-labelledby":"tabs-lifted-item-techpanel10",children:r.user_type=="researcher"?e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("div",{class:"",children:[e.jsxs("form",{onSubmit:f,class:"bg-gray-50 p-4 rounded-lg border",children:[e.jsx("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{class:"block text-sm font-medium text-gray-700",children:"Revised Document/Manuscript"}),e.jsx("input",{type:"file",onChange:t=>m("document_file",t.target.files[0]),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2"}),e.jsx("p",{class:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, DOC, DOCX"})]})}),e.jsx("div",{class:"flex justify-end mt-4",children:e.jsxs("button",{type:"submit",class:"flex items-center gap-2 text-sm text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md shadow-md focus:outline-none",children:[e.jsx("span",{class:"icon-[tabler--upload] size-5"}),"Upload"]})})]}),e.jsxs("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 mt-3 rounded-md",children:[e.jsx("strong",{class:"font-semibold",children:"Important:"})," Please ",e.jsx("span",{class:"font-semibold",children:"do not delete or remove any previously uploaded documents"})," as they are crucial for version tracking."]}),e.jsxs("table",{class:"w-full divide-y divide-gray-200 dark:divide-neutral-700 mt-3",children:[e.jsx("thead",{class:"bg-gray-100 dark:bg-neutral-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Version #"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"File"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Date Created"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500"})]})}),e.jsx("tbody",{class:"divide-y divide-gray-200 dark:divide-neutral-700",children:i.map((t,s)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{class:"border-b hover:bg-gray-50",children:[e.jsxs("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-sm font-medium text-gray-700 dark:text-neutral-200",children:["V",s+1]}),e.jsx("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-sm font-medium text-gray-700 dark:text-neutral-200",children:t.file_name}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap truncate text-xs/5 text-gray-500",children:o(t.created_at).format("LLL")}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap text-end text-sm font-medium",children:e.jsx("span",{class:"hover:cursor-pointer",onClick:()=>v(t.id),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"})})})})]})}))})]}),i.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{class:"bg-white p-6 shadow-lg rounded-lg border border-gray-200",children:[e.jsx("div",{class:"flex justify-center items-center",children:e.jsx("svg",{class:"h-16 w-16 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 4V6H7V4H5v16h14V4h-2z"})})}),e.jsxs("div",{class:"text-center mt-4",children:[e.jsx("h3",{class:"text-xl font-semibold text-gray-800",children:"Oops, no items found!"}),e.jsx("p",{class:"mt-2 text-gray-500",children:"It seems like the list is empty. Would you like to add new data or try again later?"})]})]})}):e.jsx(e.Fragment,{})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{class:"p-3",children:[e.jsxs("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 mt-3 rounded-md",children:[e.jsx("strong",{class:"font-semibold",children:"Important:"})," Please ",e.jsx("span",{class:"font-semibold",children:"do not delete or remove any previously uploaded documents"})," as they are crucial for version tracking."]}),e.jsxs("table",{class:"w-full divide-y divide-gray-200 dark:divide-neutral-700",children:[e.jsx("thead",{class:"bg-gray-100 dark:bg-neutral-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Version #"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"File"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Date Created"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500"})]})}),e.jsx("tbody",{class:"divide-y divide-gray-200 dark:divide-neutral-700",children:i.map((t,s)=>e.jsx(e.Fragment,{children:e.jsxs("tr",{class:"border-b hover:bg-gray-50",children:[e.jsxs("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-sm font-medium text-gray-700 dark:text-neutral-200",children:["V",s+1]}),e.jsx("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-sm font-medium text-gray-700 dark:text-neutral-200",children:t.file_name}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap truncate text-xs/5 text-gray-500",children:o(t.created_at).format("LLL")}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap text-end text-sm font-medium",children:e.jsxs("span",{class:"hover:cursor-pointer",onClick:()=>y(t),children:[" ",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 16l-5-5l1.4-1.45l2.6 2.6V4h2v8.15l2.6-2.6L17 11zm-6 4q-.825 0-1.412-.587T4 18v-3h2v3h12v-3h2v3q0 .825-.587 1.413T18 20z"})})]})})]})}))})]}),i.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{class:"bg-white p-6 shadow-lg rounded-lg border border-gray-200",children:[e.jsx("div",{class:"flex justify-center items-center",children:e.jsx("svg",{class:"h-16 w-16 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 4V6H7V4H5v16h14V4h-2z"})})}),e.jsxs("div",{class:"text-center mt-4",children:[e.jsx("h3",{class:"text-xl font-semibold text-gray-800",children:"Oops, no items found!"}),e.jsx("p",{class:"mt-2 text-gray-500",children:"It seems like the list is empty. Would you like to add new data or try again later?"})]})]})}):e.jsx(e.Fragment,{})]})})}),e.jsx("div",{id:"tabs-lifted-techpanelfeedback10",class:"hidden",role:"tabpanel","aria-labelledby":"tabs-lifted-item-techpanelfeedback10",children:e.jsx(z,{user:r,research:a,feedbacks_step10:b})}),e.jsx("div",{id:"tabs-lifted-techpanelreport",class:"hidden",role:"tabpanel","aria-labelledby":"tabs-lifted-item-techpanelreport",children:r.user_type==="cre"||r.user_type==="tpl"?(l==null?void 0:l.status)!="A"?e.jsx(e.Fragment,{children:e.jsx(p,{user:r,research:a,contents_mce_terminal:l})}):e.jsx(p,{user:r,research:a,contents_mce_terminal:l}):e.jsxs("div",{className:"p-4 mb-4 border-l-4 border-gray-500 bg-gray-100 text-gray-700 rounded-md shadow-md",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"No Content Available"}),e.jsx("p",{className:"text-xs mt-1",children:"There is no content to display for this user type."})]})})]})}export{O as default};
