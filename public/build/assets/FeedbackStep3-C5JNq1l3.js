import{G as m,j as e}from"./app-hr9U2O8Z.js";import{N as h}from"./notyf.es-ZvlfbKa9.js";/* empty css                  */import{d as t,r as j,l as u}from"./localizedFormat-BksM1LUp.js";t.extend(j);t.extend(u);function b({user:a,research:r,feedbacks_step3:l}){const d=new h,{setData:c,post:o,reset:n}=m({research_id:r.id,comment:"",seen_by:a.name,steps:"3"}),x=s=>{s.preventDefault(),o(route("researcher.message.thread"),{onSuccess:i=>{d.success(i.props.flash.message)},onFinish:()=>{console.log("Finishing sending message"),n()}}),n()};return e.jsxs(e.Fragment,{children:[a.user_type=="cre"?e.jsx("div",{class:"mt-1",children:e.jsx("form",{onSubmit:x,children:e.jsxs("div",{class:"",children:[e.jsxs("div",{class:"w-full",children:[e.jsx("label",{class:"label label-text",for:"textareaLabel",children:" "}),e.jsx("textarea",{class:"textarea",onChange:s=>c("comment",s.target.value),placeholder:"",id:"textareaLabel"})]}),e.jsx("div",{class:"float-end mt-3 ",children:e.jsxs("button",{type:"submit",class:"btn btn-primary",children:[e.jsx("span",{class:"icon-[tabler--send] size-6 align-bottom"}),"Post Comment"]})})]})})}):e.jsx(e.Fragment,{}),e.jsx("br",{}),e.jsx("ul",{class:"timeline timeline-vertical timeline-trimmed timeline-compact w-full mt-3",children:l.map((s,i)=>e.jsx(e.Fragment,{children:e.jsxs("li",{children:[e.jsx("hr",{}),e.jsx("div",{class:"timeline-middle bg-base-100 row-start-1 h-12",children:e.jsx("div",{class:"avatar",children:e.jsx("div",{class:"size-8 rounded-full",children:e.jsx("img",{src:"https://cdn.flyonui.com/fy-assets/avatar/avatar-2.png",alt:"User Avatar"})})})}),e.jsx("div",{class:"timeline-end mt-6 w-full",children:e.jsxs("div",{class:"border-base-content/25 rounded-lg border p-3",children:[e.jsxs("span",{class:"text-base-content/50 text-nowrap text-sm float-end m-2",children:[t(s.created_at).format("LLL")," (",e.jsxs("time",{datetime:"2023-01-23T13:23Z",children:[t().from(t(s.created_at),!0)," ago"]}),")  "]}),e.jsx("div",{class:"mb-3 flex w-full flex-wrap items-center justify-between gap-2",children:e.jsxs("p",{children:["CRE commented on ",e.jsx("span",{class:"link link-primary link-hover font-medium",children:r.research_title})," ",e.jsx("span",{class:"badge badge-soft badge-secondary badge-sm rounded-full",children:"Technical Review Report"})]})}),e.jsx("div",{class:"border-base-content/25 bg-base-200/50 rounded-lg border p-3 font-normal italic",children:s.remarks}),e.jsx("div",{class:"chat-footer float-end text-base-content/50",children:e.jsx("div",{children:"Delivered"})}),s.read_status==1?e.jsx(e.Fragment,{children:e.jsxs("div",{class:"flex gap-2 m-2",children:[e.jsxs("p",{class:"mb-2 text-xs mt-3",children:["Seen by:  ",e.jsx("span",{class:"icon-[tabler--checks] text-success align-bottom"})]}),e.jsx("div",{class:"avatar",children:e.jsx("div",{class:"size-8 rounded-full",children:e.jsx("img",{src:"https://cdn.flyonui.com/fy-assets/avatar/avatar-1.png",alt:"User Avatar"})})}),e.jsxs("div",{class:"text-sm",children:[e.jsx("p",{class:"text-sm",children:s.seen_by}),e.jsx("p",{class:"text-xs font-bold",children:"Researcher"}),e.jsxs("p",{class:"text-xs",children:[t(s.updated_at).format("LLL")," (",e.jsxs("time",{datetime:"2023-01-23T13:23Z",children:[t().from(t(s.updated_at),!0)," ago"]}),")"]})]})]})}):e.jsx(e.Fragment,{})]})}),e.jsx("hr",{})]})}))}),l.length===0?e.jsx(e.Fragment,{children:e.jsx("div",{class:"flex justify-center items-center min-h-[300px] bg-gray-100 rounded-lg shadow-md",children:e.jsxs("div",{class:"text-center",children:[e.jsx("div",{class:"mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-12 h-12 text-gray-400 mx-auto",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 110-16 8 8 0 010 16zM9 7a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 11-2 0V8H9a1 1 0 01-1-1z","clip-rule":"evenodd"})})}),e.jsx("p",{class:"text-xl text-gray-700 font-semibold",children:"Oops! No comments here yet."}),e.jsx("p",{class:"text-sm text-gray-500 mt-2",children:"Be the first to share your thoughts and start the conversation!"})]})})}):e.jsx(e.Fragment,{})]})}export{b as default};
