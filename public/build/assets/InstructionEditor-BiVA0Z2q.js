const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jodit-react-Rp2Aymhj.js","assets/app-hr9U2O8Z.js","assets/app-eO0G2seu.css"])))=>i.map(i=>d[i]);
import{r,j as t,_ as c,R as x}from"./app-hr9U2O8Z.js";import{c as _}from"./createLucideIcon-CBpzk8yI.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],R=_("LoaderCircle",y);class j extends x.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?t.jsx("div",{className:"text-red-500",children:"Failed to load instruction editor."}):this.props.children}}const S=({instruction_content:o,step:e})=>{const[d,u]=r.useState(null),[n,f]=r.useState(null),[h,l]=r.useState(!0),m=r.useRef(null);if(r.useEffect(()=>{(async()=>{try{l(!0);const[{findCardByStep:s},E]=await Promise.all([c(()=>import("./findCardByStep-Dsv570dt.js"),[]),c(()=>import("./jodit-react-Rp2Aymhj.js").then(i=>i.j),__vite__mapDeps([0,1,2])).then(i=>i.default)]),a=s(o,e);u((a==null?void 0:a.content)||`No Instruction for Step ${e}`),f(()=>E)}catch(s){console.error("Failed to load instruction or editor:",s)}finally{l(!1)}})()},[o,e]),h||!n)return t.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 italic h-3",children:[t.jsx(R,{className:"animate-spin size-5 text-primary"}),"Loading instruction..."]});const p=n;return t.jsx(j,{children:t.jsx("div",{className:"mb-4",children:t.jsx(p,{ref:m,value:d,config:{height:300,resizable:!1,allowResizeX:!1,allowResizeY:!1,toolbarSticky:!1,readonly:!0,buttons:["print"],toolbarAdaptive:!1}})})})};export{S as default};
