import{G as u,j as e}from"./app-DF_xequE.js";import{N as g}from"./notyf.es-ZvlfbKa9.js";/* empty css                  */import{d as l,r as j,l as y}from"./localizedFormat-CgSqPl3d.js";import b from"./TaggingUploader-D9xxrqT9.js";import"./DangerButton-Be05GV-7.js";import"./Modal-DjkR8s2T.js";import"./transition-DPr69o8H.js";import"./SecondaryButton-CyIWH3DM.js";import"./TextInput-ZlQYE7rw.js";l.extend(j);l.extend(y);function A({user:h,research:d,final_docs:r}){const o=new g,{setData:n,post:i,delete:p,reset:c}=u({research_id:d.id,document_file:"",steps:"12"}),a=s=>{s.preventDefault(),i(route("researcher.technical.review.files"),{onSuccess:t=>{o.success(t.props.flash.message)},onFinish:()=>{console.log("Finishing uploading files"),c()}})},x=s=>{p(route("researcher.delete.doc",s),{preserveScroll:!0,onSuccess:t=>o.success(t.props.flash.message),onError:()=>console.log("Error deleting"),onFinish:()=>c()})},m=()=>{window.confirm("Are you sure you want to approve?")&&i(route("editor.approval"),{},{preserveScroll:!0,onSuccess:()=>o.success(page.props.flash.message)})};return e.jsx(e.Fragment,{children:h.user_type=="researcher"?e.jsx(e.Fragment,{children:e.jsxs("div",{class:"bg-white p-6 rounded-lg shadow-lg border border-gray-200",children:[e.jsxs("div",{class:"mb-5",children:[e.jsx("h1",{class:"text-2xl font-bold text-gray-900",children:"Final Document/Manuscript"}),e.jsx("p",{class:"text-gray-600 text-sm mt-1",children:"A detailed breakdown of the projected costs and funding required for the proposed research project."})]}),e.jsxs("form",{onSubmit:a,class:"bg-gray-50 p-4 rounded-lg border",children:[e.jsx("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{class:"block text-sm font-medium text-gray-700",children:"Document File"}),e.jsx("input",{type:"file",onChange:s=>n("document_file",s.target.files[0]),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2"}),e.jsx("p",{class:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, DOC, DOCX"})]})}),e.jsx("div",{class:"flex justify-end mt-4",children:e.jsxs("button",{type:"submit",class:"flex items-center gap-2 text-sm text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md shadow-md focus:outline-none",children:[e.jsx("span",{class:"icon-[tabler--upload] size-5"}),"Upload"]})})]}),e.jsxs("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md shadow-sm mt-5",children:[e.jsx("strong",{class:"font-semibold",children:"Important:"})," Please ",e.jsx("span",{class:"font-semibold",children:"do not delete or remove any previously uploaded documents"})," as they are crucial for version tracking."]}),r.length>0?e.jsx("div",{class:"mt-4 overflow-x-auto",children:e.jsxs("table",{class:"w-full border rounded-md shadow-sm bg-white",children:[e.jsx("thead",{class:"bg-gray-100 text-gray-700 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{class:"px-4 py-3 text-left",children:"Version #"}),e.jsx("th",{class:"px-4 py-3 text-left",children:"File"}),e.jsx("th",{class:"px-4 py-3 text-left",children:"Date Created"}),e.jsx("th",{class:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsx("tbody",{class:"divide-y divide-gray-200",children:r.map((s,t)=>e.jsxs("tr",{class:"border-b hover:bg-gray-50",children:[e.jsxs("td",{class:"px-4 py-3 text-sm font-medium text-gray-700",children:["V",t+1]}),e.jsx("td",{class:"px-4 py-3 text-sm font-medium text-gray-700",children:s.file_name}),e.jsx("td",{class:"px-4 py-3 text-xs text-gray-500",children:l(s.created_at).format("LLL")}),e.jsx("td",{class:"px-4 py-3 text-right",children:e.jsx("button",{onClick:()=>x(s.id),class:"text-red-600 hover:text-red-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"})})})})]},t))})]})}):e.jsxs("div",{class:"bg-white p-6 shadow-lg rounded-lg border border-gray-200 mt-5 text-center",children:[e.jsx("div",{class:"flex justify-center items-center",children:e.jsx("svg",{class:"h-16 w-16 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 4V6H7V4H5v16h14V4h-2z"})})}),e.jsx("h3",{class:"text-lg font-semibold text-gray-800 mt-3",children:"No documents uploaded yet"}),e.jsx("p",{class:"text-gray-500 text-sm mt-1",children:"Start by uploading a new document."})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"card p-3",children:[e.jsxs("div",{class:"mb-4",children:[e.jsx("h1",{class:"text-3xl font-bold text-gray-900",children:"Final Document/Manuscript"}),e.jsx("p",{class:"text-gray-600 mt-3",children:"A detailed breakdown of the projected costs and funding required for the proposed research project."})]}),e.jsxs("form",{onSubmit:a,class:"bg-gray-50 p-4 rounded-lg border",children:[e.jsx("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{class:"block text-sm font-medium text-gray-700",children:"Document File"}),e.jsx("input",{type:"file",onChange:s=>n("document_file",s.target.files[0]),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2"}),e.jsx("p",{class:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, DOC, DOCX"})]})}),e.jsx("div",{class:"flex justify-end mt-4",children:e.jsxs("button",{type:"submit",class:"flex items-center gap-2 text-sm text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md shadow-md focus:outline-none",children:[e.jsx("span",{class:"icon-[tabler--upload] size-5"}),"Upload"]})})]}),e.jsxs("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 mt-3 rounded-md",children:[e.jsx("strong",{class:"font-semibold",children:"Important:"}),"Â Please ",e.jsx("span",{class:"font-semibold",children:"do not delete or remove any previously uploaded documents"})," as they are crucial for version tracking."]}),r.length>0?e.jsx("div",{class:"mt-4 overflow-x-auto",children:e.jsxs("table",{class:"w-full border rounded-md shadow-sm bg-white",children:[e.jsx("thead",{class:"bg-gray-100 text-gray-700 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{class:"px-4 py-3 text-left",children:"Version #"}),e.jsx("th",{class:"px-4 py-3 text-left",children:"File"}),e.jsx("th",{class:"px-4 py-3 text-left",children:"Uploader"}),e.jsx("th",{class:"px-4 py-3 text-left",children:"Date Created"}),e.jsx("th",{class:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsx("tbody",{class:"divide-y divide-gray-200",children:r.map((s,t)=>e.jsxs("tr",{class:"border-b hover:bg-gray-50",children:[e.jsxs("td",{class:"px-4 py-3 text-sm font-medium text-gray-700",children:["V",t+1]}),e.jsx("td",{class:"px-4 py-3 text-sm font-medium text-gray-700",children:s.file_name}),e.jsx("td",{class:"px-4 py-3 text-sm font-medium text-gray-700",children:s.uploader==null?"---":s.uploader}),e.jsx("td",{class:"px-4 py-3 text-xs text-gray-500",children:l(s.created_at).format("LLL")}),e.jsx("td",{class:"px-4 py-3 text-right",children:e.jsxs("div",{class:"flex justify-end gap-1",children:[e.jsx(b,{file_id:s.id,research:d,className:"max-w-xl cursor-pointer"}),e.jsx("button",{onClick:()=>x(s.id),class:"text-red-600 hover:text-red-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"})})})]})})]},t))})]})}):e.jsxs("div",{class:"bg-white p-4 shadow-lg rounded-lg border border-gray-200 text-center",children:[e.jsx("div",{class:"flex justify-center items-center",children:e.jsx("svg",{class:"h-16 w-16 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 4V6H7V4H5v16h14V4h-2z"})})}),e.jsx("h3",{class:"text-lg font-semibold text-gray-800 mt-3",children:"No documents uploaded yet"}),e.jsx("p",{class:"text-gray-500 text-sm mt-1",children:"Start by uploading a new document."})]})]}),d.approval==="P"?e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 text-sm text-white bg-green-600 hover:bg-green-700 px-4 py-2 rounded-md shadow-md focus:outline-none",children:[e.jsx("span",{className:"icon-[tabler--check] size-5"}),"Approve by Editor"]})}):e.jsx("div",{class:"bg-green-50 border-l-4 mt-3 border-green-500 p-6 shadow-md rounded-lg",children:e.jsxs("div",{class:"flex items-start",children:[e.jsx("div",{class:"flex-shrink-0",children:e.jsx("svg",{class:"h-6 w-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{class:"ml-4 flex-1",children:[e.jsx("h3",{class:"text-xl font-semibold text-gray-800",children:"Your Application Has Been Approved!"}),e.jsx("p",{class:"mt-2 text-gray-600",children:"Congratulations! Your application has been successfully approved. You can now proceed to the next steps."})]})]})})]})})}export{A as default};
