import{G as j,j as e}from"./app-CfsFC_sX.js";import{N as y}from"./notyf.es-ZvlfbKa9.js";/* empty css                  */import{d as n,r as f,l as w}from"./localizedFormat-VpGZUg9_.js";import b from"./TurnitinModal-BDSgM-TN.js";import"./DangerButton-BC5hJmww.js";import"./Modal-DQrqF8Fh.js";import"./transition-DUC5GS0N.js";import"./SecondaryButton-DNv47flu.js";import"./TextInput-BKA5K7tg.js";n.extend(f);n.extend(w);function U({user:c,research:i,turnitin_docs:a}){const o=new y,{setData:x,post:p,delete:h,reset:d}=j({research_id:i.id,document_file:"",steps:"turnitin"}),u=t=>{t.preventDefault(),p(route("researcher.technical.review.files"),{onSuccess:s=>{o.success(s.props.flash.message)},onFinish:()=>{console.log("Finishing uploading files"),d()}})},m=t=>{fetch(route("researcher.doc.download",t.id)).then(s=>s.blob()).then(s=>{const l=window.URL.createObjectURL(new Blob([s])),r=document.createElement("a");r.href=l,r.download=t.file_name||"downloaded-file",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(l)}).catch(s=>{console.error("Error fetching the file:",s)})},g=t=>{h(route("researcher.delete.doc",t),{preserveScroll:!0,onSuccess:s=>o.success(s.props.flash.message),onError:()=>console.log("Error deleting"),onFinish:()=>d()})};return e.jsx(e.Fragment,{children:c.user_type=="cre"?e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("div",{class:"card p-3",children:[e.jsxs("div",{class:"p-2 mt-5",children:[e.jsx("h3",{class:"text-2xl font-semibold text-gray-900",children:"Turnitin Uploading"}),e.jsx("p",{class:"text-gray-700 mt-2",children:"Turnitin's helps in detecting potential plagiarism and ensures originality in academic writing. It is widely used by institutions to verify the authenticity of submitted content."})]}),e.jsxs("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 mt-3 rounded-md",children:[e.jsx("strong",{class:"font-semibold",children:"Important:"})," Please ",e.jsx("span",{class:"font-semibold",children:"do not delete or remove any previously uploaded documents"})," as they are crucial for version tracking."]}),e.jsxs("table",{class:"w-full divide-y divide-gray-200 dark:divide-neutral-700 mt-3",children:[e.jsx("thead",{class:"bg-gray-100 dark:bg-neutral-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Version #"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"File"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Date Created"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Score"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Status"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500"})]})}),e.jsx("tbody",{class:"divide-y divide-gray-200 dark:divide-neutral-700",children:a.map((t,s)=>{var l,r;return e.jsx(e.Fragment,{children:e.jsxs("tr",{class:"border-b hover:bg-gray-50",children:[e.jsxs("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-xs font-mono text-gray-700 dark:text-neutral-200",children:["V.",s+1]}),e.jsx("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-sm font-medium text-gray-700 dark:text-neutral-200",children:t.file_name}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap truncate text-xs/5 text-gray-500",children:n(t.created_at).format("LLL")}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap text-sm font-medium",children:t.turnitin_score==null?"---":t.turnitin_score}),e.jsx("td",{className:`px-3 py-3 whitespace-nowrap text-xs font-medium
  ${((l=t.turnitin_status)==null?void 0:l.toLowerCase())==="fail"?"text-red-600":((r=t.turnitin_status)==null?void 0:r.toLowerCase())==="pass"?"text-green-600":""}`,children:t.turnitin_status==null?"---":t.turnitin_status.toUpperCase()}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap text-end text-sm font-medium",children:e.jsxs("div",{class:"flex justify-start gap-1",children:[e.jsx("span",{class:"hover:cursor-pointer",children:t.turnitin_score!=null?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx(b,{file_id:t.id,research:i,className:"max-w-xl"})})}),e.jsxs("span",{class:"hover:cursor-pointer",onClick:()=>m(t),children:[" ",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 16l-5-5l1.4-1.45l2.6 2.6V4h2v8.15l2.6-2.6L17 11zm-6 4q-.825 0-1.412-.587T4 18v-3h2v3h12v-3h2v3q0 .825-.587 1.413T18 20z"})})]})]})})]})})})})]}),a.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{class:"bg-white p-6 shadow-lg rounded-lg border border-gray-200",children:[e.jsx("div",{class:"flex justify-center items-center",children:e.jsx("svg",{class:"h-16 w-16 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 4V6H7V4H5v16h14V4h-2z"})})}),e.jsxs("div",{class:"text-center mt-4",children:[e.jsx("h3",{class:"text-xl font-semibold text-gray-800",children:"Oops, no items found!"}),e.jsx("p",{class:"mt-2 text-gray-500",children:"It seems like the list is empty. Would you like to add new data or try again later?"})]})]})}):e.jsx(e.Fragment,{})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsxs("div",{class:"card p-3",children:[e.jsxs("div",{class:"p-2 mt-5",children:[e.jsx("h3",{class:"text-2xl font-semibold text-gray-900",children:"Turnitin Uploading"}),e.jsx("p",{class:"text-gray-700 mt-2",children:"Turnitin's helps in detecting potential plagiarism and ensures originality in academic writing. It is widely used by institutions to verify the authenticity of submitted content."})]}),e.jsxs("form",{onSubmit:u,class:"bg-gray-50 p-4 rounded-lg border",children:[e.jsx("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{class:"block text-sm font-medium text-gray-700",children:"Document File"}),e.jsx("input",{type:"file",onChange:t=>x("document_file",t.target.files[0]),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2"}),e.jsx("p",{class:"mt-1 text-xs text-gray-500",children:"Accepted formats: PDF, DOC, DOCX"})]})}),e.jsx("div",{class:"flex justify-end mt-4",children:e.jsxs("button",{type:"submit",class:"flex items-center gap-2 text-sm text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md shadow-md focus:outline-none",children:[e.jsx("span",{class:"icon-[tabler--upload] size-5"}),"Upload"]})})]}),e.jsxs("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 mt-3 rounded-md",children:[e.jsx("strong",{class:"font-semibold",children:"Important:"})," Please ",e.jsx("span",{class:"font-semibold",children:"do not delete or remove any previously uploaded documents"})," as they are crucial for version tracking."]}),e.jsxs("table",{class:"w-full divide-y divide-gray-200 dark:divide-neutral-700 mt-3",children:[e.jsx("thead",{class:"bg-gray-100 dark:bg-neutral-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Version #"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"File"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Date Created"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Score"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500",children:"Status"}),e.jsx("th",{scope:"col",class:"px-3 py-3  text-start text-xs font-bolder uppercase dark:text-neutral-500"})]})}),e.jsx("tbody",{class:"divide-y divide-gray-200 dark:divide-neutral-700",children:a.map((t,s)=>{var l,r;return e.jsx(e.Fragment,{children:e.jsxs("tr",{class:"border-b hover:bg-gray-50",children:[e.jsxs("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-xs font-mono text-gray-700 dark:text-neutral-200",children:["V.",s+1]}),e.jsx("td",{class:"px-3 py-3 text-balance whitespace-nowrap text-sm font-medium text-gray-700 dark:text-neutral-200",children:t.file_name}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap truncate text-xs/5 text-gray-500",children:n(t.created_at).format("LLL")}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap text-sm font-medium",children:t.turnitin_score==null?"---":t.turnitin_score}),e.jsx("td",{className:`px-3 py-3 whitespace-nowrap text-xs font-medium
  ${((l=t.turnitin_status)==null?void 0:l.toLowerCase())==="fail"?"text-red-600":((r=t.turnitin_status)==null?void 0:r.toLowerCase())==="pass"?"text-green-600":""}`,children:t.turnitin_status==null?"---":t.turnitin_status.toUpperCase()}),e.jsx("td",{class:"px-3 py-3 whitespace-nowrap text-end text-sm font-medium",children:e.jsx("div",{class:"flex justify-start gap-1",children:e.jsx("span",{class:"hover:cursor-pointer",onClick:()=>g(t.id),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"})})})})})]})})})})]}),a.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{class:"bg-white p-6 shadow-lg rounded-lg border border-gray-200",children:[e.jsx("div",{class:"flex justify-center items-center",children:e.jsx("svg",{class:"h-16 w-16 text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 4V6H7V4H5v16h14V4h-2z"})})}),e.jsxs("div",{class:"text-center mt-4",children:[e.jsx("h3",{class:"text-xl font-semibold text-gray-800",children:"Oops, no items found!"}),e.jsx("p",{class:"mt-2 text-gray-500",children:"It seems like the list is empty. Would you like to add new data or try again later?"})]})]})}):e.jsx(e.Fragment,{})]})})})})}export{U as default};
